{% extends '@ManuelTranslation/base.html.twig' %}

{% trans_default_domain "ManuelTranslationBundle" %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .code-text {
            white-space: pre; /* CSS 2.0 */
            white-space: pre-wrap; /* CSS 2.1 */
            white-space: pre-line; /* CSS 3.0 */
            white-space: -pre-wrap; /* Opera 4-6 */
            white-space: -o-pre-wrap; /* Opera 7 */
            white-space: -moz-pre-wrap; /* Mozilla */
            white-space: -hp-pre-wrap; /* HP Printers */
            word-wrap: break-word; /* IE 5+ */
        }
    </style>
{% endblock %}

{% block page_header %}
    {{ 'label.reviews'|trans }}
    <small>{{ translation.code }} / {{ translation.domain }}</small>
{% endblock %}

{% block page_header_right %}
    <a href="{{ path('manuel_translation_list') }}" class="btn btn-default">{{ 'label.back'|trans }}</a>
{% endblock %}

{% block content %}
    <table class="table table-bordered">
        <tr>
            <td class="col-xs-2">
                <h3>{{ 'label.current'|trans }}</h3>
            </td>
            <td>
                <table class="table table-bordered table-condensed">
                    <tr>
                        <th class="col-sm-1">{{ 'label.code'|trans }}</th>
                        <td class="col-sm-7">{{ translation.code }}</td>
                        <th class="col-sm-1">{{ 'label.domain'|trans }}</th>
                        <td class="col-sm-3">{{ translation.domain }}</td>
                    </tr>
                    {% for locale, value in translation.values %}
                        <tr>
                            <th>{{ locale|title }}</th>
                            <td colspan="3">
                                <pre>{{ value }}</pre>
                            </td>
                        </tr>
                    {% endfor %}
                    <tr>
                        <th>{{ 'label.autogenerated'|trans }}</th>
                        <td>{{ (translation.autogenerated ? 'label.yes' : 'label.no' )|trans }}</td>
                        <th>{{ 'label.active'|trans }}</th>
                        <td>{{ (translation.active ? 'label.yes' : 'label.no' )|trans }}</td>
                    </tr>
                    <tr>
                        <th>{{ 'label.used_in'|trans }}</th>
                        <td colspan="3">
                            <ul>
                                {% for f in translation.files %}
                                    <li>
                                        <small>{{ f }}</small>
                                    </li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>

        {% for log in logs %}
            <tr>
                <td class="col-xs-2">
                    <dl>
                        <dt>{{ 'label.log_date'|trans }}</dt>
                        <dd>{{ log.loggedAt|date('Y-m-d H:i:s') }}</dd>
                    </dl>
                </td>
                <td>
                    <table class="table table-bordered table-condensed">
                        <tr>
                            <th class="col-sm-1">{{ 'label.code'|trans }}</th>
                            <td class="col-sm-7">{{ log.code }}</td>
                            <th class="col-sm-1">{{ 'label.domain'|trans }}</th>
                            <td class="col-sm-3">{{ log.domain }}</td>
                        </tr>
                        {% for locale, value in log.values %}
                            <tr>
                                <th>{{ locale|title }}</th>
                                <td colspan="3">
                                    <pre>{{ value }}</pre>
                                </td>
                            </tr>
                        {% endfor %}
                        <tr>
                            <th>{{ 'label.autogenerated'|trans }}</th>
                            <td>{{ (log.autogenerated ? 'label.yes' : 'label.no' )|trans }}</td>
                            <th>{{ 'label.active'|trans }}</th>
                            <td>{{ (log.active ? 'label.yes' : 'label.no' )|trans }}</td>
                        </tr>
                        <tr>
                            <th>{{ 'label.used_in'|trans }}</th>
                            <td colspan="3">
                                <ul>
                                    {% for f in log.files %}
                                        <li>
                                            <small>{{ f }}</small>
                                        </li>
                                    {% endfor %}
                                </ul>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}

{% block javascripts %}

{% endblock %}
