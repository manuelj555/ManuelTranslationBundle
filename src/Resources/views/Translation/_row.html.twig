{% trans_default_domain "ManuelTranslationBundle" %}

<tr data-id="{{ translation.id }}" data-domain="{{ translation.domain }}"
    {%- if not translation.active %}class="text-muted"{% endif %}
    data-refresh-url="{{ path('manuel_translation_show_item', {id: translation.id}) }}">
    <td>
        <div class="row-fluid clearfix">
            <div class="col-sm-8">
                <strong>{{ translation.code }}</strong>
            </div>
            <div class="col-sm-4 text-right">
                <small class="">{{ translation.domain }}</small>
            </div>
        </div>
        <div class="row-fluid clearfix">
            <div class="col-sm-12 text-right">
                {% if translation.active %}
                    <a href="{{ path('manuel_translation_form', {id: translation.id}) }}" class="edit-translation btn btn-primary btn-xs">
                        <span aria-hidden="true" class="glyphicon glyphicon-edit"></span> {{ 'label.edit'|trans }}
                    </a>
                {% endif %}
                <a href="{{ path('manuel_translation_log_list', {id:translation.id}) }}"
                   class="btn btn-default btn-xs">
                    <span aria-hidden="true" class="glyphicon glyphicon-zoom-in"></span> {{ 'label.reviews'|trans }}
                </a>
                {% if translation.active %}
                    <a href="{{ path('manuel_translation_change_status', {id : translation.id, status: 'inactive'}) }}"
                       class="btn btn-warning btn-xs">
                        <span aria-hidden="true" class="glyphicon glyphicon-ban-circle"></span> {{ 'label.active'|trans }}
                    </a>
                {% else %}
                    <a href="{{ path('manuel_translation_change_status', {id : translation.id, status: 'active'}) }}"
                       class="btn btn-info btn-xs">
                        <span aria-hidden="true" class="glyphicon glyphicon-ok-circle"></span> {{ 'label.inactive'|trans }}
                    </a>
                {% endif %}
            </div>
        </div>
        {#<hr/>#}
        <div class="trans-files">
            <h6>{{ 'label.used_in'|trans }}</h6>
            <ul>
                {% for file in translation.files %}
                    <li>
                        <small>{{ file }}</small>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </td>
    <td>
        {% for locale in locales %}
            {% set locale_value = translation.values[locale]|default %}
            <pre class="value-content data-{{ locale }}" title="{{ locale }}">
                {%- if locale_value is not empty -%}
                    {{- locale_value -}}
                {%- else -%}
                    [value for <span class="label label-primary">{{ locale }}</span> is missing]
                {%- endif -%}
            </pre>
        {% endfor %}
        <table class="table table-condensed table-bordered" style="margin-bottom: 0px">
            <tr>
                <th class="text-right col-xs-3">{{ 'label.autogenerated'|trans }}</th>
                <td class=" col-xs-3">{{ (translation.autogenerated ? 'label.yes' : 'label.no')|trans }}</td>
                <th class="text-right col-xs-3">{{ 'label.active'|trans }}</th>
                <td class=" col-xs-3">{{ (translation.active ? 'label.yes' : 'label.no')|trans }}</td>
            </tr>
        </table>
        {#</div>#}
        {#</div>#}
    </td>
</tr>
