import React, {useContext} from "react";
import {Button, ButtonGroup, Card, Dropdown, Placeholder} from "react-bootstrap";
import GlobalsContext from "../../context/GlobalsContext";
import Icon from "../Icon";

export default function Item({translation}) {
    const {booleanLabel} = useContext(GlobalsContext);

    return (
        <div className="translation-item mb-2">
            <Card>
                <Card.Header>
                    <div className="row align-items-center">

                        <Card.Title className="col-sm-6 m-0">{translation.code}</Card.Title>

                        {/*<span slot="message">*/}
                        {/*    <span className="glyphicon glyphicon-ok label label-success">*/}
                        {/*        Save Successfull!*/}
                        {/*    </span>*/}
                        {/*    <span className="glyphicon glyphicon-remove label label-danger">*/}
                        {/*        Save Error!*/}
                        {/*    </span>*/}
                        {/*</span>*/}

                        <div className="col-sm-2 text-muted text-end">
                            {translation.domain}
                        </div>
                        <div className="col-sm-2 text-end">
                            <b>Autogenerated:</b> {booleanLabel(translation.autogenerated)}
                        </div>
                        <div className="col-sm-2 text-end">
                            <b>Active:</b> {booleanLabel(translation.active)}
                        </div>
                    </div>
                </Card.Header>
                <Card.Body>
                    <div className="row align-items-start">
                        <div className="col-sm-10 col-lg-11">
                            {Object.entries(translation.values).map(([locale, value]) => (
                                <div key={locale} className="d-flex">
                                    <div className="me-2 mt-1">{locale}</div>
                                    <pre className="flex-fill trans-value">{value}</pre>
                                </div>
                            ))}
                        </div>
                        <div className="d-grid gap-2 col-sm-2 col-lg-1">
                            <Dropdown as={ButtonGroup} size="sm">
                                <Button variant="outline-secondary">
                                    <Icon icon="pencil-square"/>
                                    Edit
                                </Button>
                                <Dropdown.Toggle split variant="outline-secondary"/>

                                <Dropdown.Menu>
                                    <Dropdown.Item><Icon icon="save"/>Save</Dropdown.Item>
                                    <Dropdown.Item><Icon icon="x"/>Cancel</Dropdown.Item>
                                    <Dropdown.Item><Icon icon="trash"/>Deactivate</Dropdown.Item>
                                    <Dropdown.Item><Icon icon="check-circle"/>Activate</Dropdown.Item>
                                </Dropdown.Menu>
                            </Dropdown>
                        </div>
                    </div>
                </Card.Body>
            </Card>
        </div>
    );
}

const LoadingItem = () => {
    return (
        <div className="translation-item mb-2">
            <Card>
                <Card.Header>
                    <div className="row align-items-center">

                        <Card.Title className="col-sm-6 m-0">
                            <Placeholder xs={7}/>
                        </Card.Title>

                        <div className="col-sm-2 text-muted text-end">
                            <Placeholder xs={11}/>
                        </div>
                        <div className="col-sm-2 text-end">
                            <Placeholder xs={11}/>
                        </div>
                        <div className="col-sm-2 text-end">
                            <Placeholder xs={11}/>
                        </div>
                    </div>
                </Card.Header>
                <Card.Body>
                    <div className="row align-items-start">
                        <div className="col-sm-10 col-lg-11">
                            <div className="d-flex gap-2 mb-2">
                                <Placeholder className="py-3" xs={1}/>
                                <Placeholder className="py-3" xs={7}/>
                            </div>
                            <div className="d-flex gap-2 mb-2">
                                <Placeholder className="py-3" xs={1}/>
                                <Placeholder className="py-3" xs={5}/>
                            </div>
                            <div className="d-flex gap-2 mb-2">
                                <Placeholder className="py-3" xs={1}/>
                                <Placeholder className="py-3" xs={6}/>
                            </div>
                        </div>
                        <div className="d-grid gap-2 col-sm-2 col-lg-1">
                            <Placeholder.Button xs={12}/>
                        </div>
                    </div>
                </Card.Body>
            </Card>
        </div>
    );
};

export {LoadingItem};